{"ast":null,"code":"import _regeneratorRuntime from\"/opt/clientoghelp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/opt/clientoghelp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/opt/clientoghelp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/opt/clientoghelp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/opt/clientoghelp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/opt/clientoghelp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Fragment}from'react';import{Helmet}from\"react-helmet\";import{NavLink}from'react-router-dom';import WrapperConsumer from'../store';import'../assets/css/style.css';import{sendTokenPassword}from'../services/user';var SendPasswordComponent=/*#__PURE__*/function(_React$Component){_inherits(SendPasswordComponent,_React$Component);var _super=_createSuper(SendPasswordComponent);function SendPasswordComponent(props){var _this;_classCallCheck(this,SendPasswordComponent);_this=_super.call(this,props);_this.emailRef=React.createRef();_this.sendToken=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var email,token;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();email=_this.emailRef.current.value;if(!(email!==\"\")){_context.next=9;break;}_context.next=5;return sendTokenPassword(email);case 5:token=_context.sent;if(token!==null){_this.setState({successForm:true});}else{_this.setState({errorForm:true});}_context.next=10;break;case 9:_this.setState({errors:{email:true}});case 10:return _context.abrupt(\"return\",false);case 11:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={errors:{email:false},successForm:false,errorForm:false};return _this;}_createClass(SendPasswordComponent,[{key:\"componentDidMount\",value:function componentDidMount(){window.scrollTo(0,0);}},{key:\"render\",value:function render(props){var _this2=this;return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Helmet,null,/*#__PURE__*/React.createElement(\"meta\",{charSet:\"utf-8\"}),/*#__PURE__*/React.createElement(\"title\",null,\"Recover password\")),/*#__PURE__*/React.createElement(\"div\",{className:\"aoi-section\"},/*#__PURE__*/React.createElement(\"div\",{className:\"_3psection1_lp-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"aoi-pic-1\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"aoi-content-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"aoi-wrapper-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"aoi-logo-1\"},/*#__PURE__*/React.createElement(NavLink,{to:\"/index\",className:\"aio-logocontainer-1 w-inline-block\"},/*#__PURE__*/React.createElement(\"img\",{src:require('../assets/images/-a3x.png'),alt:\"\",className:\"aoi-logo-2\"}))),this.state.successForm!==true&&/*#__PURE__*/React.createElement(\"div\",{className:\"aoi-backlink-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"aoi-backwrapper-1\"},/*#__PURE__*/React.createElement(NavLink,{to:\"/login\",className:\"aoi-back-1\"},\"Back to log in\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"aoi-backlink-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"aoi-backwrapper-1\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"aoi-headline-1\"},\"Forgot your password?\"),/*#__PURE__*/React.createElement(\"div\",{className:\"aoi-description-1\"},\"We will send a secure recovery link to your email address below.\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"aoi-form-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"aoi-form-2 w-form\"},this.state.successForm===false&&/*#__PURE__*/React.createElement(\"form\",{id:\"email-form\",name:\"email-form\",action:\"/recover-password\",onSubmit:this.sendToken,\"data-name\":\"Email Form\",className:\"aoi-form-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"aoi-form-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"aoi-tagfield-1\"},\"Email address\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",id:\"Email\",name:\"Email\",\"data-name\":\"Email\",maxLength:\"256\",className:\"\".concat(this.state.errors.email?\"warning\":\"\",\" aoi-textfield-1 w-input\"),ref:this.emailRef,onChange:function onChange(){_this2.setState({errors:{email:false}});}}))),this.state.successForm&&this.state.errorForm===false&&/*#__PURE__*/React.createElement(\"div\",{className:\"aoi-success-1 w-form-done\"},/*#__PURE__*/React.createElement(\"div\",{className:\"aoi-success-2\"},\"Thank you. Please check your inbox. \")),this.state.errorForm&&this.state.successForm===false&&/*#__PURE__*/React.createElement(\"div\",{className:\"aoi-success-3 w-form-fail\"},/*#__PURE__*/React.createElement(\"div\",{className:\"aoi-success-4\"},\"Oops! Something went wrong while submitting the form.\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"aoi-buttonwrapper-1\"},this.state.successForm===false&&/*#__PURE__*/React.createElement(\"a\",{href:\"#recover\",onClick:this.sendToken,className:\"aoi-button-1 w-inline-block\"},/*#__PURE__*/React.createElement(\"div\",{className:\"aoi-button-2 alt-1\"},\"Continue\")),this.state.successForm===true&&/*#__PURE__*/React.createElement(\"a\",{href:\"/login\",className:\"aoi-button-1 w-inline-block\"},/*#__PURE__*/React.createElement(\"div\",{className:\"aoi-button-2 alt-1\"},\"Continue\"))))))));}}]);return SendPasswordComponent;}(React.Component);export default WrapperConsumer(SendPasswordComponent);","map":{"version":3,"sources":["/opt/clientoghelp/src/components/SendPasswordComponent.js"],"names":["React","Fragment","Helmet","NavLink","WrapperConsumer","sendTokenPassword","SendPasswordComponent","props","emailRef","createRef","sendToken","e","preventDefault","email","current","value","token","setState","successForm","errorForm","errors","state","window","scrollTo","require","Component"],"mappings":"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","sourcesContent":["import React, {Fragment} from 'react'\nimport {Helmet} from \"react-helmet\";\nimport { NavLink } from 'react-router-dom'\nimport WrapperConsumer from '../store';\nimport '../assets/css/style.css';\nimport {sendTokenPassword} from '../services/user'\n\nclass SendPasswordComponent extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            errors : {\n                email : false\n            },\n            successForm : false,\n            errorForm : false\n        };\n    }\n    emailRef = React.createRef()\n\n    componentDidMount(){\n        window.scrollTo(0, 0)\n    }\n    \n    sendToken = async (e) => {\n        e.preventDefault()\n        var email = this.emailRef.current.value\n        if(email !== \"\"){\n            var token = await sendTokenPassword(email)\n            if(token !== null){\n                this.setState({successForm : true})\n            }else{\n                this.setState({errorForm : true})\n            }\n        }else{\n            this.setState({errors : {email : true}})\n        }\n        return false\n    }\n\n    render(props){\n\n        return(\n            <Fragment>\n                <Helmet>\n                    <meta charSet=\"utf-8\" />\n                    <title>Recover password</title>\n                </Helmet>                \n                <div className=\"aoi-section\">\n                    <div className=\"_3psection1_lp-2\">\n                    <div className=\"aoi-pic-1\"></div>\n                    <div className=\"aoi-content-1\">\n                        <div className=\"aoi-wrapper-1\">\n                        <div className=\"aoi-logo-1\"><NavLink to=\"/index\" className=\"aio-logocontainer-1 w-inline-block\"><img src={require('../assets/images/-a3x.png')} alt=\"\" className=\"aoi-logo-2\"/></NavLink></div>\n                        {this.state.successForm !== true &&\n                        <div className=\"aoi-backlink-12\">\n                            <div className=\"aoi-backwrapper-1\"><NavLink to=\"/login\" className=\"aoi-back-1\">Back to log in</NavLink></div>\n                        </div>\n                        }\n                        <div className=\"aoi-backlink-1\">\n                            <div className=\"aoi-backwrapper-1\">\n                            <h1 className=\"aoi-headline-1\">Forgot your password?</h1>\n                            <div className=\"aoi-description-1\">We will send a secure recovery link to your email address below.</div>\n                            </div>\n                        </div>\n                        <div className=\"aoi-form-1\">\n                            <div className=\"aoi-form-2 w-form\">\n                            {this.state.successForm === false && \n                            <form id=\"email-form\" name=\"email-form\" action=\"/recover-password\" onSubmit={this.sendToken} data-name=\"Email Form\" className=\"aoi-form-3\">\n                                <div className=\"aoi-form-4\">\n                                <div className=\"aoi-tagfield-1\">Email address</div>\n                                <input type=\"email\" id=\"Email\" name=\"Email\" data-name=\"Email\" maxLength=\"256\" className={`${this.state.errors.email ? \"warning\" : \"\"} aoi-textfield-1 w-input`} ref={this.emailRef} onChange={() => {this.setState({errors : {email : false}})}} /></div>\n                 \n                            </form>\n                            }\n                            {this.state.successForm && this.state.errorForm === false && \n                            <div className=\"aoi-success-1 w-form-done\">\n                                <div className=\"aoi-success-2\">Thank you. Please check your inbox. </div>\n                            </div>\n                            }\n                            {this.state.errorForm && this.state.successForm === false &&\n                            <div className=\"aoi-success-3 w-form-fail\">\n                                <div className=\"aoi-success-4\">Oops! Something went wrong while submitting the form.</div>\n                            </div>\n                            }\n                            </div>\n                        </div>\n                        <div className=\"aoi-buttonwrapper-1\">\n                            {this.state.successForm === false &&\n                            <a href=\"#recover\" onClick={this.sendToken} className=\"aoi-button-1 w-inline-block\">\n                                <div className=\"aoi-button-2 alt-1\">Continue</div>\n                            </a>\n                            }\n                            {this.state.successForm === true &&\n                            <a href=\"/login\" className=\"aoi-button-1 w-inline-block\">\n                                <div className=\"aoi-button-2 alt-1\">Continue</div>\n                            </a>\n                            }\n                        </div>\n                        </div>\n                    </div>\n                    </div>\n                </div>\n            </Fragment>\n        );\n    }\n}\nexport default WrapperConsumer(SendPasswordComponent);"]},"metadata":{},"sourceType":"module"}