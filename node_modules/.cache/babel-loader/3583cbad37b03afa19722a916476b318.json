{"ast":null,"code":"import _regeneratorRuntime from\"/opt/clientoghelp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/opt/clientoghelp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/opt/clientoghelp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/opt/clientoghelp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/opt/clientoghelp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/opt/clientoghelp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/opt/clientoghelp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/opt/clientoghelp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Fragment}from'react';import{Helmet}from\"react-helmet\";import{NavLink}from'react-router-dom';import WrapperConsumer from'../store';import Header from'./HeaderComponent';import Footer from'./FooterComponent';import{getFunctions}from'../services/functions';import{categoryIcon}from'../services/utils';var FunctionsComponent=/*#__PURE__*/function(_React$Component){_inherits(FunctionsComponent,_React$Component);var _super=_createSuper(FunctionsComponent);function FunctionsComponent(props){var _this;_classCallCheck(this,FunctionsComponent);_this=_super.call(this,props);_this.getAllFunctions=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var functions,filterFunctions,categories;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getFunctions();case 2:functions=_context.sent;if(functions&&functions.categories){filterFunctions=functions.categories;filterFunctions=filterFunctions.map(function(option){var category=option.label[0].toUpperCase();return _objectSpread({category:/[0-9]/.test(category)?'0-9':category},option);});categories=functions.res_cat;categories=categories.map(function(option){var icon=categoryIcon.find(function(f){return f.key===option.id;});option.icon=icon.icon;return option;});_this.setState({functions:filterFunctions,categories:categories});_this.allCategories=categories;}case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={functions:[],categories:[],search:\"\"};_this.searchFunction=_this.searchFunction.bind(_assertThisInitialized(_this));_this.categories=[];return _this;}_createClass(FunctionsComponent,[{key:\"componentDidMount\",value:function componentDidMount(){this.getAllFunctions();}},{key:\"searchFunction\",value:function searchFunction(e){var _this2=this;var val=e.target.value.toLowerCase();var categories=this.allCategories;this.allCategories.map(function(c){c.tbl_functions=_this2.state.functions.filter(function(f){return f.category===c.title;});return true;});if(val!==\"\"){categories=categories.filter(function(option){option.tbl_functions=option.tbl_functions.filter(function(f){var t=f.function_title.toLowerCase();return t.includes(val);});return option.tbl_functions.length>0;});}this.setState({categories:categories});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Helmet,null,/*#__PURE__*/React.createElement(\"meta\",{charSet:\"utf-8\"}),/*#__PURE__*/React.createElement(\"title\",null,\"Functions\")),/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(\"div\",{className:\"section-ale-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container-ale-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"section-ale-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"section-ale-4\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"heading-ale-1\"},\"Functions\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"aok-section-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"aok-container-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"aok-toparea-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"aoh-headerwrapper-1\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"aok-heading-1\"},\"Browse functions by category\"),/*#__PURE__*/React.createElement(\"div\",{className:\"aok-tagline-1\"},\"Work with the bests on the world\\u2019s largest hiring platform connecting oil and gas professionals and clients\")),/*#__PURE__*/React.createElement(\"div\",{className:\"oak-searcharea-1\"},/*#__PURE__*/React.createElement(\"form\",{action:\"/search\",className:\"amj-searchblock-1-2 w-form\"},/*#__PURE__*/React.createElement(\"input\",{type:\"search\",id:\"search_function\",name:\"search_function\",maxLength:\"256\",defaultValue:this.state.search,onChange:this.searchFunction,required:\"\",placeholder:\"Type and filter\",className:\"aok-searchfield-1 w-input\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"button\",className:\"aok-searchicon-1 w-button\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"aok-listwrapper-1\"},this.state.categories.map(function(category){return/*#__PURE__*/React.createElement(\"div\",{className:\"aok-item-2\",key:category.id.toString()},/*#__PURE__*/React.createElement(\"div\",{className:\"aok-itemtop-1\"},/*#__PURE__*/React.createElement(\"img\",{src:require('../assets/images/'+category.icon),alt:\"\",className:\"aok-icon-1\"}),/*#__PURE__*/React.createElement(\"h3\",{className:\"aok-itemname-1\"},category.title)),/*#__PURE__*/React.createElement(\"div\",{className:\"aok-items-1\"},category.tbl_functions.map(function(f){return/*#__PURE__*/React.createElement(NavLink,{to:\"#\",className:\"aok-item-1\",key:f.function_id.toString()},f.function_title);})));}),/*#__PURE__*/React.createElement(\"div\",{className:\"aok-bottom-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"aok-bottom-2 w-richtext\"},/*#__PURE__*/React.createElement(\"p\",null,\"Can't find your function? \",/*#__PURE__*/React.createElement(NavLink,{to:\"/suggest-function\",target:\"_blank\"},\"Submit feedback\"),\".\"))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"aoh-cta-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"aoh-container-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"aoh-box-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"aoh-box-2\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"aoh-headline-1\"},\"Join Our Growing Professionals Community\",/*#__PURE__*/React.createElement(\"br\",null))),/*#__PURE__*/React.createElement(\"div\",{className:\"aoh-box-3\"},/*#__PURE__*/React.createElement(NavLink,{to:\"/create-account\",className:\"aoh-button-1 w-button\"},\"Sign up as Service Provider\"))))),/*#__PURE__*/React.createElement(Footer,null));}}]);return FunctionsComponent;}(React.Component);export default WrapperConsumer(FunctionsComponent);","map":{"version":3,"sources":["/opt/clientoghelp/src/components/FunctionsComponent.js"],"names":["React","Fragment","Helmet","NavLink","WrapperConsumer","Header","Footer","getFunctions","categoryIcon","FunctionsComponent","props","getAllFunctions","e","functions","categories","filterFunctions","map","option","category","label","toUpperCase","test","res_cat","icon","find","f","key","id","setState","allCategories","state","search","searchFunction","bind","val","target","value","toLowerCase","c","tbl_functions","filter","title","t","function_title","includes","length","toString","require","function_id","Component"],"mappings":"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","sourcesContent":["import React, {Fragment} from 'react'\nimport {Helmet} from \"react-helmet\";\nimport { NavLink } from 'react-router-dom'\nimport WrapperConsumer from '../store';\nimport Header from './HeaderComponent';\nimport Footer from './FooterComponent';\nimport { getFunctions } from '../services/functions'\nimport { categoryIcon } from '../services/utils'\n\nclass FunctionsComponent extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            functions : [],\n            categories : [],\n            search : \"\"\n        }\n        this.searchFunction = this.searchFunction.bind(this);\n        this.categories = []\n    }\n\n    componentDidMount(){\n        this.getAllFunctions()\n\n    }\n\n    searchFunction(e){\n        var val = e.target.value.toLowerCase()\n        let categories = this.allCategories\n        this.allCategories.map((c) => {\n            c.tbl_functions = this.state.functions.filter((f) => {\n                return f.category === c.title\n            })\n            return true\n        })\n        if(val !== \"\"){\n            categories = categories.filter((option) => {\n                option.tbl_functions = option.tbl_functions.filter((f) => {\n                    var t = f.function_title.toLowerCase()\n                    return t.includes(val)\n                })\n                return option.tbl_functions.length > 0\n            });\n        }\n        this.setState({ categories: categories })\n    }\n\n    getAllFunctions = async (e) => {\n        var functions = await getFunctions() \n        if(functions && functions.categories){\n            var filterFunctions = functions.categories\n            filterFunctions = filterFunctions.map((option) => {\n                const category = option.label[0].toUpperCase();\n                return {\n                category: /[0-9]/.test(category) ? '0-9' : category,\n                ...option,\n                };\n            });\n            var categories = functions.res_cat\n            categories = categories.map((option) => {\n                var icon = categoryIcon.find((f) => f.key === option.id)\n                option.icon = icon.icon\n                return option\n            });\n            this.setState({ functions: filterFunctions, categories: categories})\n            this.allCategories = categories\n        }\n    }\n\n    render(){\n        return(\n            <Fragment>\n                <Helmet>\n                    <meta charSet=\"utf-8\" />\n                    <title>Functions</title>\n                </Helmet>\n                <Header />\n                <div className=\"section-ale-1\">\n                    <div className=\"container-ale-1\">\n                    <div className=\"section-ale-2\">\n                        <div className=\"section-ale-4\">\n                        <h1 className=\"heading-ale-1\">Functions</h1>\n                        </div>\n                    </div>\n                    </div>\n                </div>\n                <div className=\"aok-section-1\">\n                    <div className=\"aok-container-1\">\n                    <div className=\"aok-toparea-1\">\n                        <div className=\"aoh-headerwrapper-1\">\n                        <h2 className=\"aok-heading-1\">Browse functions by category</h2>\n                        <div className=\"aok-tagline-1\">Work with the bests on the worldâ€™s largest hiring platform connecting oil and gas professionals and clients</div>\n                        </div>\n                        <div className=\"oak-searcharea-1\">\n                            <form action=\"/search\" className=\"amj-searchblock-1-2 w-form\">\n                                <input type=\"search\" id=\"search_function\" name=\"search_function\" maxLength=\"256\" defaultValue={this.state.search} onChange={this.searchFunction}  required=\"\" placeholder=\"Type and filter\" className=\"aok-searchfield-1 w-input\"/>\n                                <input type=\"button\" className=\"aok-searchicon-1 w-button\"/>\n                            </form>\n                        </div>                    \n                        <div className=\"aok-listwrapper-1\">\n                        {this.state.categories.map((category) =>\n                            <div className=\"aok-item-2\" key={category.id.toString()}>\n                                <div className=\"aok-itemtop-1\"><img src={require('../assets/images/'+category.icon)} alt=\"\" className=\"aok-icon-1\"/>\n                                    <h3 className=\"aok-itemname-1\">{category.title}</h3>\n                                </div>\n                                <div className=\"aok-items-1\">\n                                    {category.tbl_functions.map((f) =>\n                                        <NavLink to=\"#\" className=\"aok-item-1\" key={f.function_id.toString()}>{f.function_title}</NavLink>\n                                    )}\n                                </div>\n                            </div>\n                        )}\n                        <div className=\"aok-bottom-1\">\n                            <div className=\"aok-bottom-2 w-richtext\">\n                            <p>Can&#x27;t find your function? <NavLink to=\"/suggest-function\" target=\"_blank\">Submit feedback</NavLink>.</p>\n                            </div>\n                        </div>\n                        </div>\n                    </div>\n                    </div>\n                </div>\n                <div className=\"aoh-cta-1\">\n                    <div className=\"aoh-container-1\">\n                    <div className=\"aoh-box-1\">\n                        <div className=\"aoh-box-2\">\n                        <h2 className=\"aoh-headline-1\">Join Our Growing Professionals Community<br/></h2>\n                        </div>\n                        <div className=\"aoh-box-3\"><NavLink to=\"/create-account\" className=\"aoh-button-1 w-button\">Sign up as Service Provider</NavLink></div>\n                    </div>\n                    </div>\n                </div>\n                <Footer />\n            </Fragment>\n        );\n    }\n}\n\nexport default WrapperConsumer(FunctionsComponent);"]},"metadata":{},"sourceType":"module"}