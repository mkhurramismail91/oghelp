{"ast":null,"code":"import _regeneratorRuntime from\"/opt/clientoghelp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/opt/clientoghelp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/opt/clientoghelp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/opt/clientoghelp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/opt/clientoghelp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/opt/clientoghelp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/opt/clientoghelp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Fragment}from'react';import{NavLink,withRouter}from'react-router-dom';import{Helmet}from\"react-helmet\";import WrapperConsumer from'../../store';import'../../assets/css/style.css';import Header from'../HeaderComponent';import Footer from'./Footer';import{changePassword}from'../../services/user';var AccountSettingsComponent=/*#__PURE__*/function(_React$Component){_inherits(AccountSettingsComponent,_React$Component);var _super=_createSuper(AccountSettingsComponent);function AccountSettingsComponent(props){var _this;_classCallCheck(this,AccountSettingsComponent);_this=_super.call(this,props);_this.formRef=React.createRef();_this.formSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var error,errors,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();error=false;errors=_this.state.errors;if(_this.state.user.currentpassword===\"\"){error=true;errors.currentpassword=true;}if(_this.state.user.password===\"\"||_this.state.user.password!==\"\"&&_this.state.user.password!==_this.state.user.repeatpassword){error=true;errors.password=true;}if(_this.state.user.repeatpassword===\"\"||_this.state.user.repeatpassword!==\"\"&&_this.state.user.password!==_this.state.user.repeatpassword){error=true;errors.repeatpassword=true;}if(!error){_context.next=10;break;}_this.setState({errors:errors});_context.next=15;break;case 10:_context.next=12;return changePassword(_this.state.user);case 12:res=_context.sent;console.log(res);if(res.status===\"success\"){_this.setState({successForm:true,errorForm:false});_this.formRef.reset();}else if(res===null){_this.setState({successForm:false,errorForm:true});}else{if(res.code===304){errors=_this.state.errors;errors.currentpassword=true;_this.setState({successForm:false,errorForm:true,errors:errors});}else{_this.setState({successForm:false,errorForm:true});}}case 15:return _context.abrupt(\"return\",false);case 16:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={user:{currentpassword:\"\",password:\"\",repeatpassword:\"\"},errors:{currentpassword:false,password:false,repeatpassword:false},errorForm:false,successForm:false,display:\"none\"};_this.changeInput=_this.changeInput.bind(_assertThisInitialized(_this));return _this;}_createClass(AccountSettingsComponent,[{key:\"changeInput\",value:function changeInput(event){var target=event.target;var value=target.value;var name=target.name;var user=this.state.user;user[name]=value;this.setState({user:user});console.log(name);var errors=this.state.errors;errors[name]=false;this.setState({errors:errors});}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Helmet,null,/*#__PURE__*/React.createElement(\"meta\",{charSet:\"utf-8\"}),/*#__PURE__*/React.createElement(\"title\",null,\"Account Settings\")),/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(\"div\",{className:\"global-header-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"global-header-2\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"global-header-3\"},\"Account settings\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"div-block\"},/*#__PURE__*/React.createElement(\"div\",{className:\"cc_6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"acc_7\"},/*#__PURE__*/React.createElement(\"div\",{className:\"aleftbar_md\"},/*#__PURE__*/React.createElement(\"div\",{className:\"abuttonsection_md\"},/*#__PURE__*/React.createElement(NavLink,{to:\"/account-settings\",\"aria-current\":\"page\",className:\"alinkbuttnsection_md w-inline-block w--current\"},/*#__PURE__*/React.createElement(\"div\",{className:\"atextbutton_md\"},\"Password and security\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"abuttonsection_md\"},/*#__PURE__*/React.createElement(NavLink,{to:\"/account-deactivate-account\",className:\"alinkbuttnsection_md w-inline-block\"},/*#__PURE__*/React.createElement(\"div\",{className:\"atextbutton_md\"},\"Deactivate account\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"abuttonsection_md\"},/*#__PURE__*/React.createElement(NavLink,{\"data-w-id\":\"f997e58a-83dc-5ee6-f145-f8aeffab6dd3\",onMouseEnter:function onMouseEnter(){return _this2.setState({display:\"block\"});},onMouseLeave:function onMouseLeave(){return _this2.setState({display:\"none\"});},to:\"#comingsoonmd-1\",className:\"alinkbuttnsection_md w-inline-block\"},/*#__PURE__*/React.createElement(\"div\",{className:\"atextbutton_md\"},\"Payments\"),/*#__PURE__*/React.createElement(\"div\",{className:\"comingsoonmd\",style:{display:this.state.display}},/*#__PURE__*/React.createElement(\"div\",{className:\"comingsoonmd-1\"},\"Coming soon\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"cc_8\"},/*#__PURE__*/React.createElement(\"div\",{className:\"section1_ll\"},/*#__PURE__*/React.createElement(\"div\",{className:\"containsection_lm\"},/*#__PURE__*/React.createElement(\"div\",{className:\"formsection_lm\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form_lm w-form\"},/*#__PURE__*/React.createElement(\"div\",{\"data-name\":\"Email Form\",className:\"form1_lm\"},/*#__PURE__*/React.createElement(\"div\",{className:\"section2_lm\"},/*#__PURE__*/React.createElement(\"div\",{className:\"headsection1_lm2\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"headings_lm2\"},\"Password and security\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"formsection_lm\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form_lm w-form d-column\"},/*#__PURE__*/React.createElement(\"form\",{id:\"update-password\",ref:function ref(el){return _this2.formRef=el;},name:\"update-password\",action:\"/\",onSubmit:this.formSubmit,\"data-name\":\"Email Form\",className:\"form1_lm\"},/*#__PURE__*/React.createElement(\"div\",{className:\"section2_lm\"},/*#__PURE__*/React.createElement(\"div\",{className:\"headsection1_lm\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"headings_lm\"},\"Password\")),/*#__PURE__*/React.createElement(\"div\",{className:\"section3_lm\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fieldcampsection_lm\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"Password\",className:\"fieldlabelform_lm\"},\"Current password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",className:\"\".concat(this.state.errors.currentpassword?\"warning\":\"\",\" filltextfieldform_lm w-input\"),maxLength:\"256\",name:\"currentpassword\",\"data-name\":\"Password\",placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",id:\"currentpassword\",onChange:this.changeInput})),/*#__PURE__*/React.createElement(\"div\",{className:\"fieldcampsection_lm\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\",className:\"fieldlabelform_lm\"},\"New password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",className:\"\".concat(this.state.errors.password?\"warning\":\"\",\" filltextfieldform_lm w-input\"),maxLength:\"256\",name:\"password\",\"data-name\":\"Password 3\",placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",id:\"password\",onChange:this.changeInput})),/*#__PURE__*/React.createElement(\"div\",{className:\"fieldcampsection_lm\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"repeatpassword\",className:\"fieldlabelform_lm\"},\"Confirm password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",className:\"\".concat(this.state.errors.repeatpassword?\"warning\":\"\",\" filltextfieldform_lm w-input\"),maxLength:\"256\",name:\"repeatpassword\",\"data-name\":\"Password 2\",placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",id:\"repeatpassword\",onChange:this.changeInput})),/*#__PURE__*/React.createElement(\"div\",{className:\"submitsectionform_lm\"},/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Save\",\"data-wait\":\"Please wait...\",className:\"submitbuttonform_lm w-button\"}))))),this.state.successForm&&/*#__PURE__*/React.createElement(\"div\",{className:\"successmsjform_lm w-form-done mt-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"textform_lm\"},\"Your password was successfully changed.\")),this.state.errorForm&&/*#__PURE__*/React.createElement(\"div\",{className:\"errormsjform_lm w-form-fail mt-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"textform_lm\"},\"Oops! Something went wrong while submitting the form.\"))))))))),/*#__PURE__*/React.createElement(Footer,null));}}]);return AccountSettingsComponent;}(React.Component);export default withRouter(WrapperConsumer(AccountSettingsComponent));","map":{"version":3,"sources":["/opt/clientoghelp/src/components/users/AccountSettingsComponent.js"],"names":["React","Fragment","NavLink","withRouter","Helmet","WrapperConsumer","Header","Footer","changePassword","AccountSettingsComponent","props","formRef","createRef","formSubmit","e","preventDefault","error","errors","state","user","currentpassword","password","repeatpassword","setState","res","console","log","status","successForm","errorForm","reset","code","display","changeInput","bind","event","target","value","name","el","Component"],"mappings":"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","sourcesContent":["import React, {Fragment} from 'react'\nimport { NavLink, withRouter } from 'react-router-dom'\nimport {Helmet} from \"react-helmet\";\nimport WrapperConsumer from '../../store';\nimport '../../assets/css/style.css';\nimport Header from '../HeaderComponent';\nimport Footer from './Footer';\nimport { changePassword } from '../../services/user'\n\nclass AccountSettingsComponent extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            user : {\n                currentpassword : \"\",\n                password : \"\",\n                repeatpassword : \"\"\n            },\n            errors : {\n                currentpassword : false,\n                password : false,\n                repeatpassword : false\n            },\n            errorForm : false,\n            successForm : false,\n            display : \"none\"\n        }\n        this.changeInput = this.changeInput.bind(this);\n    }\n\n    formRef = React.createRef()\n\n    changeInput(event) {\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n        var user = this.state.user\n        user[name] = value\n        this.setState({\n            user : user\n        });\n        console.log(name)\n        var errors = this.state.errors\n        errors[name] = false\n        this.setState({errors: errors})\n    }\n\n    formSubmit = async (e) => {\n        e.preventDefault()\n        \n        var error = false\n        var errors = this.state.errors\n        if(this.state.user.currentpassword === \"\"){\n            error = true\n            errors.currentpassword = true\n        }\n        if(this.state.user.password === \"\" || (this.state.user.password !== \"\" && this.state.user.password !== this.state.user.repeatpassword)){\n            error = true\n            errors.password = true\n        }\n        if(this.state.user.repeatpassword === \"\" || (this.state.user.repeatpassword !== \"\" && this.state.user.password !== this.state.user.repeatpassword)){\n            error = true\n            errors.repeatpassword = true\n        }\n        if(error){\n            this.setState({errors})\n        }else{\n            var res = await changePassword(this.state.user)\n            console.log(res)\n            if(res.status === \"success\"){\n                this.setState({successForm : true, errorForm : false})\n                this.formRef.reset();\n            }else if(res === null){\n                this.setState({successForm : false, errorForm : true})\n            }else{\n                if(res.code === 304){\n                    errors = this.state.errors\n                    errors.currentpassword = true\n                    this.setState({successForm : false, errorForm : true, errors})\n                }else{\n                    this.setState({successForm : false, errorForm : true})\n                }\n            }\n        }\n        return false\n    } \n\n    render(){\n\n        return(\n            <Fragment>\n                <Helmet>\n                    <meta charSet=\"utf-8\" />\n                    <title>Account Settings</title>\n                </Helmet>\n                <Header />\n                <div className=\"global-header-1\">\n                    <div className=\"global-header-2\">\n                    <h1 className=\"global-header-3\">Account settings</h1>\n                    </div>\n                </div>\n                <div className=\"div-block\">\n                    <div className=\"cc_6\">\n                    <div className=\"acc_7\">\n                        <div className=\"aleftbar_md\">\n                        <div className=\"abuttonsection_md\">\n                            <NavLink to=\"/account-settings\" aria-current=\"page\" className=\"alinkbuttnsection_md w-inline-block w--current\">\n                            <div className=\"atextbutton_md\">Password and security</div>\n                            </NavLink>\n                        </div>\n                        <div className=\"abuttonsection_md\">\n                            <NavLink to=\"/account-deactivate-account\" className=\"alinkbuttnsection_md w-inline-block\">\n                            <div className=\"atextbutton_md\">Deactivate account</div>\n                            </NavLink>\n                        </div>\n                        <div className=\"abuttonsection_md\">\n                            <NavLink data-w-id=\"f997e58a-83dc-5ee6-f145-f8aeffab6dd3\" onMouseEnter={() => this.setState({display : \"block\"})} onMouseLeave={() => this.setState({display : \"none\"})} to=\"#comingsoonmd-1\" className=\"alinkbuttnsection_md w-inline-block\">\n                            <div className=\"atextbutton_md\">Payments</div>\n                            <div className=\"comingsoonmd\" style={{display : this.state.display}}>\n                                <div className=\"comingsoonmd-1\" >Coming soon</div>\n                            </div>\n                            </NavLink>\n                        </div>\n                        </div>\n                    </div>\n                    <div className=\"cc_8\">\n                        <div className=\"section1_ll\">\n                        <div className=\"containsection_lm\">\n                            <div className=\"formsection_lm\">\n                            <div className=\"form_lm w-form\">\n                                <div  data-name=\"Email Form\" className=\"form1_lm\">\n                                <div className=\"section2_lm\">\n                                    <div className=\"headsection1_lm2\">\n                                    <h2 className=\"headings_lm2\">Password and security</h2>\n                                    </div>\n                                </div>\n                                </div>\n                            </div>\n                            </div>\n                            <div className=\"formsection_lm\">\n                            <div className=\"form_lm w-form d-column\">\n                                <form id=\"update-password\" ref={(el) => this.formRef = el} name=\"update-password\" action=\"/\" onSubmit={this.formSubmit} data-name=\"Email Form\" className=\"form1_lm\">\n                                <div className=\"section2_lm\">\n                                    <div className=\"headsection1_lm\">\n                                    <h3 className=\"headings_lm\">Password</h3>\n                                    </div>\n                                    <div className=\"section3_lm\">\n                                    <div className=\"fieldcampsection_lm\"><label htmlFor=\"Password\" className=\"fieldlabelform_lm\">Current password</label>\n                                        <input type=\"password\" className={`${this.state.errors.currentpassword ? \"warning\" : \"\"} filltextfieldform_lm w-input`} maxLength=\"256\" name=\"currentpassword\" data-name=\"Password\" placeholder=\"•••••••••••••••\" id=\"currentpassword\" onChange={this.changeInput}  /></div>\n                                    <div className=\"fieldcampsection_lm\"><label htmlFor=\"password\" className=\"fieldlabelform_lm\">New password</label>\n                                        <input type=\"password\" className={`${this.state.errors.password ? \"warning\" : \"\"} filltextfieldform_lm w-input`} maxLength=\"256\" name=\"password\" data-name=\"Password 3\" placeholder=\"•••••••••••••••\" id=\"password\" onChange={this.changeInput}  /></div>\n                                    <div className=\"fieldcampsection_lm\"><label htmlFor=\"repeatpassword\" className=\"fieldlabelform_lm\">Confirm password</label>\n                                        <input type=\"password\" className={`${this.state.errors.repeatpassword ? \"warning\" : \"\"} filltextfieldform_lm w-input`} maxLength=\"256\" name=\"repeatpassword\" data-name=\"Password 2\" placeholder=\"•••••••••••••••\" id=\"repeatpassword\" onChange={this.changeInput}  /></div>\n                                    <div className=\"submitsectionform_lm\">\n                                        <input type=\"submit\" value=\"Save\" data-wait=\"Please wait...\" className=\"submitbuttonform_lm w-button\" /></div>\n                                    </div>\n                                </div>\n                                </form>\n                                {this.state.successForm && \n                                <div className=\"successmsjform_lm w-form-done mt-5\">\n                                <div className=\"textform_lm\">Your password was successfully changed.</div>\n                                </div>\n                                }\n                                {this.state.errorForm &&\n                                <div className=\"errormsjform_lm w-form-fail mt-5\">\n                                <div className=\"textform_lm\">Oops! Something went wrong while submitting the form.</div>\n                                </div>\n                                }\n                            </div>\n                            </div>\n                        </div>\n                        </div>\n                    </div>\n                    </div>\n                </div>\n                <Footer/>\n            </Fragment>\n        );\n    }\n}\n\nexport default withRouter(WrapperConsumer(AccountSettingsComponent));"]},"metadata":{},"sourceType":"module"}