{"ast":null,"code":"import _regeneratorRuntime from\"/opt/clientoghelp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/opt/clientoghelp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/opt/clientoghelp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/opt/clientoghelp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/opt/clientoghelp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/opt/clientoghelp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{Component}from'react';import{withRouter}from'react-router-dom';import{singinLinkedin,registerLinkedin}from\"../../services/user\";import queryString from'query-string';//import WrapperConsumer from '../../store';\nvar SinginLinkedIn=/*#__PURE__*/function(_Component){_inherits(SinginLinkedIn,_Component);var _super=_createSuper(SinginLinkedIn);function SinginLinkedIn(){_classCallCheck(this,SinginLinkedIn);return _super.apply(this,arguments);}_createClass(SinginLinkedIn,[{key:\"componentWillMount\",value:function componentWillMount(){function getToken(_x){return _getToken.apply(this,arguments);}function _getToken(){_getToken=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(props){var params,token,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:params=queryString.parse(props.location.search);console.log(params);if(!(params.state===\"singin_string\")){_context.next=9;break;}_context.next=5;return singinLinkedin(params);case 5:token=_context.sent;if(token!==null&&token!==301)window.opener.onSuccess('token');else if(token===301){window.opener.onShowError(301);}_context.next=13;break;case 9:_context.next=11;return registerLinkedin(params);case 11:res=_context.sent;if(res!==null)window.opener.onSuccess(res);case 13:window.close();return _context.abrupt(\"return\");case 15:case\"end\":return _context.stop();}}},_callee);}));return _getToken.apply(this,arguments);}getToken(this.props);}},{key:\"render\",value:function render(){return null;}}]);return SinginLinkedIn;}(Component);export default withRouter(SinginLinkedIn);","map":{"version":3,"sources":["/opt/clientoghelp/src/components/users/SinginComponent.js"],"names":["Component","withRouter","singinLinkedin","registerLinkedin","queryString","SinginLinkedIn","getToken","props","params","parse","location","search","console","log","state","token","window","opener","onSuccess","onShowError","res","close"],"mappings":"6xBAAA,OAASA,SAAT,KAA0B,OAA1B,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,cAAT,CAAyBC,gBAAzB,KAAiD,qBAAjD,CACA,MAAOC,CAAAA,WAAP,KAAwB,cAAxB,CACA;GAEMC,CAAAA,c,8SACkB,SACDC,CAAAA,QADC,oIAChB,iBAAyBC,KAAzB,uIACQC,MADR,CACiBJ,WAAW,CAACK,KAAZ,CAAkBF,KAAK,CAACG,QAAN,CAAeC,MAAjC,CADjB,CAEIC,OAAO,CAACC,GAAR,CAAYL,MAAZ,EAFJ,KAGOA,MAAM,CAACM,KAAP,GAAiB,eAHxB,gDAI4BZ,CAAAA,cAAc,CAACM,MAAD,CAJ1C,QAIcO,KAJd,eAKQ,GAAIA,KAAK,GAAK,IAAV,EAAkBA,KAAK,GAAK,GAAhC,CACIC,MAAM,CAACC,MAAP,CAAcC,SAAd,CAAwB,OAAxB,EADJ,IAEK,IAAGH,KAAK,GAAK,GAAb,CAAiB,CAClBC,MAAM,CAACC,MAAP,CAAcE,WAAd,CAA0B,GAA1B,EACH,CATT,qDAW0BhB,CAAAA,gBAAgB,CAACK,MAAD,CAX1C,SAWcY,GAXd,eAYQ,GAAIA,GAAG,GAAK,IAAZ,CACIJ,MAAM,CAACC,MAAP,CAAcC,SAAd,CAAwBE,GAAxB,EAbZ,QAeIJ,MAAM,CAACK,KAAP,GAfJ,wFADgB,2CAoBhBf,QAAQ,CAAC,KAAKC,KAAN,CAAR,CACH,C,uCAEQ,CACL,MAAO,KAAP,CACH,C,4BA1BwBP,S,EA6B7B,cAAeC,CAAAA,UAAU,CAACI,cAAD,CAAzB","sourcesContent":["import { Component } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { singinLinkedin, registerLinkedin } from \"../../services/user\";\nimport queryString from 'query-string';\n//import WrapperConsumer from '../../store';\n\nclass SinginLinkedIn extends Component {\n    componentWillMount(){\n        async function getToken (props){\n            let params = queryString.parse(props.location.search)\n            console.log(params)\n            if(params.state === \"singin_string\"){\n                const token = await singinLinkedin(params)\n                if (token !== null && token !== 301) \n                    window.opener.onSuccess('token')\n                else if(token === 301){\n                    window.opener.onShowError(301)\n                }\n            }else{\n                const res = await registerLinkedin(params)\n                if (res !== null) \n                    window.opener.onSuccess(res)\n            }\n            window.close();\n            return;\n        }\n\n        getToken(this.props)\n    }\n\n    render() {\n        return null;\n    }\n}\n\nexport default withRouter(SinginLinkedIn);"]},"metadata":{},"sourceType":"module"}